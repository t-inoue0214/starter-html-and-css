# 06. CSS レイアウト（Flexbox と Position）

ここでは、要素を自由自在に配置するための 2 つの強力な武器を学びます。

これらをマスターすると、「脱初心者」と言えます。

Flexbox と Position が難易度がほかより高い点としては、親要素のタグと子要素のタグを考慮して、適切な位置にプロパティを指定する必要があります。また、そのために `div`要素を増やす必要があるケースも存在しており、初学者は混乱することが多いです。

---

## 1. Flexbox（フレックスボックス）

**「要素を横並びにしたい」と思ったら、迷わずこれを使います。**
かつては `float` という機能を使っていましたが、現在は Flexbox が業界標準です。

### 仕組み：親が子を整列させる

Flexbox は、並べたい要素そのものではなく、その**「親要素（コンテナ）」**に命令します。

1. **親**に `display: flex;` をつける → **子要素が横並びになる**
2. **親**に `justify-content` をつける → **横方向**の配置が決まる
3. **親**に `align-items` をつける → **縦方向**の配置が決まる

| プロパティ (親に指定) | 値                    | 動作                                                     |
| :-------------------- | :-------------------- | :------------------------------------------------------- |
| **`justify-content`** | `flex-start` (初期値) | 左寄せ                                                   |
|                       | `center`              | 中央寄せ                                                 |
|                       | `space-between`       | 両端に配置し、間を均等に空ける（**非常によく使います**） |
| **`align-items`**     | `stretch` (初期値)    | 高さを親に合わせる                                       |
|                       | `center`              | 上下の真ん中に配置する                                   |

---

## 2. Position（ポジション）

**「要素を重ねたい」「画面の右下に固定したい」**という時に使います。
通常、HTML の要素は積み木のように重ならずに並びますが、Position を使うと**浮遊**させることができます。

### よく使う 3 つの値

| 値             | 説明                                                                                                                                                |
| :------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------- |
| **`relative`** | **相対位置（基準点）**<br>本来の位置から「ちょっとずらす」時に使いますが、実務では**「absolute の基準点」**として親要素につけることがほとんどです。 |
| **`absolute`** | **絶対位置（浮遊）**<br>親要素（relative がついているもの）の左上を原点 (0, 0) として、好きな場所に配置します。**他の要素と重なります。**           |
| **`fixed`**    | **固定**<br>画面（ウィンドウ）を基準にして固定します。スクロールしてもついてくる「ヘッダー」や「トップへ戻るボタン」に使います。                    |

> **初心者がハマる「基準点」の罠** > `absolute` を使いたい時は、**必ずその親（枠）に `position: relative;` をつけてください。**
> そうしないと、基準点が「画面全体」になってしまい、意図しない場所に飛んでいってしまいます。

---

## 演習課題：Web サイトのヘッダーとメインビジュアルを作ろう

`index.html` はレイアウトが崩れた状態の Web ページです。
`style.css` を編集して、モダンなレイアウトに直してください。

### 手順 1: ヘッダーを横並びにする (Flexbox)

ヘッダー（`.main-header`）の中に、「ロゴ」と「ナビゲーション（リンク）」が入っていますが、縦に積まれてしまっています。

- `.main-header` に `display: flex;` を指定して横並びにしてください。
- さらに `justify-content: space-between;` を指定して、ロゴを左端、ナビゲーションを右端に離してください。
- `align-items: center;` でロゴを上下の中央を揃えてください。

### 手順 2: ナビゲーション内の横並び (Flexbox)

右側のナビゲーションリスト（`.nav-list`）も縦になっています。

- `.nav-list` に `display: flex;` を指定して横並びにしてください。
- `gap: 20px;` を指定して、リンク同士の間隔を空けてください（`gap` は Flexbox の隙間を作る便利なプロパティです）。

### 手順 3: 入力フォームの整列 (Flexbox & Grouping)

「お問い合わせフォーム」を見てください。ラベルと入力欄を横並びにしたいですが、エラーメッセージは入力欄の下に出したいです。

- フォームの各行（`.form-row`）に `display: flex;` を指定してください。
- 垂直方向の位置合わせとして `align-items: flex-start;`（上揃え）を指定してください。
  - ※ `center` にすると、エラーメッセージが出た時にラベルの位置がずれてしまうため、基本は上揃えにします。

### 手順 4: NEW バッジを画像に重ねる (Position)

カードの右上に「NEW」という赤いバッジ（`.badge`）を乗せたいのですが、今は下に落ちています。

- **親**である `.card-image` に `position: relative;` を指定して、基準点に設定してください。
- **子**である `.badge` に `position: absolute;` を指定して浮かせ、以下の位置指定を追加してください。
  - `top: 0;` （上端に合わせる）
  - `right: 0;` （右端に合わせる）

### 手順 5: 画面右下にボタンを固定する (Fixed)

「チャット相談」ボタン（`.floating-btn`）を、スクロールしても常に画面の右下にいるようにします。

- `.floating-btn` に `position: fixed;` を指定してください。
- `bottom: 20px;`、`right: 20px;` で画面の右下隅に配置してください。

---

## 完了したら

- ロゴとメニューが左右に分かれていますか？
- 画像の右上に「NEW」バッジが乗っていますか？
- スクロールしても右下のボタンがついてきますか？
- 意図通り（ラベル左、入力欄右、エラー下）になっているか確認しましょう。

これができれば、Web ページの代表的なレイアウトパターンはクリアです！
次は最後の仕上げ、**07_css_advanced** へ進みます。
